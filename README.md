# üé¨ StudioBooking Backend

**StudioBooking** ‚Äî B2C –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–æ—Ç–æ—Å—Ç—É–¥–∏–π (MVP).  
Backend API –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ **Go**, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, –∫–∞—Ç–∞–ª–æ–≥ —Å—Ç—É–¥–∏–π, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

### üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go **1.21+**
- Git
- (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Docker & Docker Compose

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/your-org/photostudio-main.git
cd photostudio-main/backend

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
go mod download

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä (SQLite –ë–î —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
go run cmd/api/main.go
# –∏–ª–∏
make dev
````

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
üëâ **[http://localhost:3001](http://localhost:3001)**

---

## üå± –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (Seed)

```bash
make seed
# –∏–ª–∏
go run cmd/seed/main.go
```

–ë—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã:

| –†–æ–ª—å               | Email                                                   | –ü–∞—Ä–æ–ª—å    |
| ------------------ | ------------------------------------------------------- | --------- |
| üëë –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä   | [admin@studiobooking.kz](mailto:admin@studiobooking.kz) | admin123  |
| üë§ –ö–ª–∏–µ–Ω—Ç          | [client@test.com](mailto:client@test.com)               | client123 |
| üè¢ –í–ª–∞–¥–µ–ª–µ—Ü —Å—Ç—É–¥–∏–∏ | [owner@studio.kz](mailto:owner@studio.kz)               | owner123  |

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:

* ‚úÖ 2 —Å—Ç—É–¥–∏–∏
* ‚úÖ –ö–æ–º–Ω–∞—Ç—ã –≤–Ω—É—Ç—Ä–∏ —Å—Ç—É–¥–∏–π

---

## üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
cp .env.example .env
```

–ü—Ä–∏–º–µ—Ä `.env`:

```env
DATABASE_URL=postgres://user:password@localhost:5432/studio_booking
JWT_SECRET=super_secret_key
PORT=3001
ENV=development
```

> ‚ö†Ô∏è –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ dev –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **SQLite**.
> `DATABASE_URL` –Ω—É–∂–µ–Ω –¥–ª—è production (PostgreSQL).

---

## üõ† –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (Makefile)

```bash
make dev        # –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
make test       # –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
make seed       # –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
make build      # —Å–±–æ—Ä–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞
make clean      # –æ—á–∏—Å—Ç–∫–∞
```

---

## üì° API Endpoints

### üîê Auth

```http
POST /api/v1/auth/register/client   # —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
POST /api/v1/auth/register/studio   # —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Å—Ç—É–¥–∏–∏
POST /api/v1/auth/login             # –≤—Ö–æ–¥
```

---

### üè¢ Catalog

```http
GET /api/v1/studios        # —Å–ø–∏—Å–æ–∫ —Å—Ç—É–¥–∏–π
GET /api/v1/studios/:id   # –¥–µ—Ç–∞–ª–∏ —Å—Ç—É–¥–∏–∏
```

---

### üìÖ Booking

```http
POST /api/v1/bookings                               # —Å–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
GET  /api/v1/users/me/bookings                      # –º–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
GET  /api/v1/rooms/:id/availability?date=YYYY-MM-DD # –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ª–æ—Ç—ã
```

---

### üõ° Admin (—Ä–æ–ª—å `admin`)

```http
GET  /api/v1/admin/studios/pending        # —Å—Ç—É–¥–∏–∏ –Ω–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
POST /api/v1/admin/studios/:id/verify     # –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—É–¥–∏—é
POST /api/v1/admin/studios/:id/reject     # –æ—Ç–∫–ª–æ–Ω–∏—Ç—å —Å—Ç—É–¥–∏—é
GET  /api/v1/admin/statistics              # —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```

---

## üê≥ Docker

–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose:

```bash
docker-compose up --build
```

* API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ **[http://localhost:3001](http://localhost:3001)**
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **SQLite** –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

---

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
backend/
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îú‚îÄ‚îÄ api/main.go      # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ API
‚îÇ   ‚îî‚îÄ‚îÄ seed/main.go     # –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ database/        # –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ middleware/      # CORS, JWT, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ modules/         # –±–∏–∑–Ω–µ—Å-–º–æ–¥—É–ª–∏ (auth, catalog, booking, admin)
‚îÇ   ‚îú‚îÄ‚îÄ pkg/             # –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (jwt, response)
‚îÇ   ‚îî‚îÄ‚îÄ repository/      # —Ä–∞–±–æ—Ç–∞ —Å –ë–î
‚îú‚îÄ‚îÄ migrations/          # SQL –º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ uploads/             # –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ studio.db            # SQLite –ë–î (–≤ .gitignore)
‚îî‚îÄ‚îÄ Makefile
```

---

## üìå –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

* ‚úÖ MVP
* üîÑ –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
* üß™ –ü–æ–∫—Ä—ã—Ç –±–∞–∑–æ–≤—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏

```
